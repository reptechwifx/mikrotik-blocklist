<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>WIFX Mikrotik Blocklist</title>
  <style>
    body { margin:0; font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif; background:#f5f6f8; }
    header { background:#0747a6; color:#fff; padding:8px 16px; display:flex; align-items:center; }
    header img { height:28px; margin-right:12px; }
    header .title { font-size:18px; font-weight:600; }
    main { max-width:900px; margin:24px auto; background:#fff; padding:24px 28px; border-radius:6px; box-shadow:0 1px 3px rgba(9,30,66,0.13); }
    h1 { margin-top:0; font-size:22px; color:#172b4d; }
    p { color:#42526e; }
    ul { padding-left:20px; }
    li { margin:4px 0; }
    code { background:#f4f5f7; padding:2px 4px; border-radius:3px; font-size:90%; }
    footer { text-align:center; padding:16px; font-size:12px; color:#6b778c; }
    footer a { color:#0747a6; text-decoration:none; }
  </style>
</head>
<body>
<header>
  <img src="/html/logo.png" alt="WIFX">
  <div class="title">WIFX MikroTik Blocklist Service</div>
</header>
<main>
  <h1>MikroTik Blocklists</h1>
  <p>
    Internal WIFX service that compiles and aggregates multiple blocklist sources
    into <code>.rsc</code> files ready to be imported into RouterOS.
  </p>

  <!-- The list of links will be injected here -->
  {{SOURCES}}

  <h2>Quick usage (MikroTik Ros7) </h2>
  <pre><code>/system script
add dont-require-permissions=yes name=blocklist policy=ftp,reboot,read,write,policy,test,password,sniff,sensitive,romon source=\
    "# name of RAM disk\r\
    \n:local ramdisk \"tmpfs1\";\r\
    \n\r\
    \n# Check if RAM disk exists\r\
    \n:if ([:len [/disk find slot=\$ramdisk]] = 0) do={\r\
    \n    :log warning \"RAM disk <\$ramdisk> missing - created...\";\r\
    \n    /disk add type=tmpfs tmpfs-max-size=10M slot=\$ramdisk;\r\
    \n    :delay 1s;\r\
    \n} else={\r\
    \n    :log info \"RAM disk <\$ramdisk> already created\";\r\
    \n}\r\
    \n\r\
    \n# Download .rsc into RAM disk\r\
    \n/tool fetch url=\"https://blocklist.wifx.net/all.rsc\" dst-path=\"\$ramdisk/blocklist.rsc\";\r\
    \n:delay 10\r\
    \n# Import file\r\
    \n/import file-name=\"\$ramdisk/blocklist.rsc\";"

/system scheduler
add interval=1h30m name=blocklist on-event=blocklist policy=ftp,reboot,read,write,policy,test,password,sniff,sensitive,romon start-time=startup
</code></pre>

</main>
<footer>
  &copy; WIFX SA - <a href="https://www.wifx.net" target="_blank" rel="noopener">www.wifx.net</a>
</footer>
</body>
</html>
